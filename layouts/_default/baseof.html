<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
    {{ $styles := resources.Get "css/main.css" | resources.ToCSS | resources.Minify }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}">
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = savedTheme ? savedTheme : (prefersDark ? 'dark' : 'light');
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
    <script src="{{ "js/theme.js" | relURL }}"></script>
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <div class="nav-links">
                {{ range .Site.Menus.main }}
                <a href="{{ .URL }}" class="nav-link">{{ .Name }}</a>
                {{ end }}
            </div>
            <a href="{{ "/" | relURL }}" class="nav-logo">{{ .Site.Title }}'s Portfoli-Go</a>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <svg class="sun-icon" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121-2.121z"/>
                </svg>
                <svg class="moon-icon" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"/>
                </svg>
            </button>
        </div>
    </nav>

    <main class="content">
        {{ block "main" . }}{{ end }}
    </main>

    <footer class="footer">
        <p>&copy; {{ now.Format "2006" }} {{ .Site.Params.author }} ðŸ˜Š</p>
        <div class="social-links">
            {{ with .Site.Params.github }}
            <a href="{{ . }}" target="_blank">GitHub</a>
            {{ end }}
            {{ with .Site.Params.linkedin }}
            <a href="{{ . }}" target="_blank">LinkedIn</a>
            {{ end }}
        </div>
    </footer>
</body>
</html>